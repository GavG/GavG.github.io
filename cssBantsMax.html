<body id=b onload=a=45;b.innerHTML=b.innerHTML.replace(/~|!|q|x|w|j/g,function(m){return{'~':'background','!':'-color','q':'-size','x':'-position','w':'transparent','j':'linear'}[m]});setInterval("b.style.setProperty('--a',(a+=1)+'deg')",1)>
<style>@keyframes c{  
0%{~!:#F00;~q:1%}
17%{~!:#F0F;transform: rotate(calc(360deg * var(--d)));--d:-1}
34%{~!:#0F0;~q:100%}
51%{~!:#00F;~q:10%;~x:50% 100%}
68%{~!:#0FF;~x:50% 50%}
85%{~!:#000}
100%{~!:#F00;~q:1%}
}
*{
--d:1;
~x: 50% 50%;
--a: 45deg;
animation: c 9s infinite;
--g:w 0%, #FF0 1%, #FF0 3%, w 4%, #000 23%, #F00 24%, #F00 27%, w 28%, w 73%, #FF0 74%, #FF0 77%, #000 78%, w 96%, #F00 97%, #F00 99%, w 100%;
~-image: j-gradient(var(--a), var(--g)), j-gradient(calc(var(--a) *-1), var(--g))}}